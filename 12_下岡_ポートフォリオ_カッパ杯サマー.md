# 作品概要
・タイトル
　　目指せ！秘湯ハンター
![[newtitle 1.png]]
・ゲーム内容
 襲い来る野生動物たちを吹き飛ばして秘湯を目指す、爽快アクションゲーム
[2025年カッパ杯サマー 「目指せ！秘湯ハンター」](https://www.youtube.com/watch?v=eiarcAc5yT4)


・ルール
- 全ステージ：３ステージ
- フィールド上にいる野生動物たちを吹き飛ばす
- ステージをクリアするごとに強化アイテムが出現
- 最後のステージはボスである巨大なクマを倒して秘湯を目指す
- 最後にクリアタイムに応じたスコアがでる

・学校
　河原電子ビジネス専門学校ゲームクリエイター科

・制作人数
　3人

・製作期間
2025年2月～2025年6月

・ゲームジャンル
　爽快アクションゲーム

・プレイ人数
　1人

・対応ハード
　PC(Windows)
　　→コントローラー

・使用言語
　c++ , HLSL

・使用ツール
- プログラム(c++)
   ・visual Studio 2022
- 3Dソフト
　　・3ds Max
- エフェクト
　　・Effekseer
- 画像
　　・Adobe Photoshop 2025
- バージョン管理
　　・Git 
　　・GitHub
　　・Fork(GitGUIクライアント)
- タスク管理
　　・Notion

・開発環境
- エンジン
　　・学校内製の簡易エンジン(DirectX12)
- OS
　　・Windows11

# 操作方法
![[contllor.png]]

# 実装したもの

## UIアニメーション
文字に動きを付けて、よりゲームらしさを追求しました。
### ゲームクリア・ゲームオーバー,タイトル
タイトルの「PRESS A BUTTON」やゲームクリア、ゲームオーバーの文字に<font color="#d99694">Lerp関数を使って動きを滑らか</font>にしました。
- Lerp関数とは
　　　二点間を滑らかに移動させるための関数。線形補間であり、間を直線であることを想定して近似的に補う。
　　　
- PRESS A BUTTON
　　・透明度の変化
※コード
![[Pasted image 20250806154922.png]]
※実装
![[yuge 1.gif]]

- ゲームクリア,ゲームオーバー
　　・最小サイズから最大サイズへの変化
※コード(ゲームクリア)
![[Pasted image 20250806155340.png]]
### nowLoading
「nowLoading」の文字をサインカーブを使って、<font color="#d99694">波のような動き</font>にしました。
- サインカーブとは
　　正弦関数 y = sin(x) のグラフとして表される波形の曲線。波のように滑らかに上下に変動し、周期的に同じ形を繰り返すのが特徴。
※コード
![[Pasted image 20250806155923.png]]
※実装
![[nowloading.gif]]
### 新記録
<font color="#d99694">ソートを使ったランキングの入れ替え</font>に踏まえ、経過時間が速くランキング内に入る場合に"新記録"という文字が出るようにしました。
(新記録の文字もLerp関数でやりました)
- ソートとは
　　配列やコンテナ内のデータを、ある特定の順序（昇順や降順など）で並べ替える操作。
※コード
![[Pasted image 20250806161613.png]]
※実装
![[shinkiroku.gif]]

### 湯気(リザルト)
ゲームクリアした時、以下の動画のように秘湯へと向かいます。
![[noresult.gif]]

そのままだと味気がないと感じ、<font color="#d99694">湯気が上がる演出</font>を加えました。
3種類の湯気があり、その中からランダムに選んで８つ場所(SMOKE_POSITION)から生成しています。
※コード
![[Pasted image 20250806165335.png]]
また、湯気が生成されている後ろで、インゲームとリザルト画面の移行を行っています。<font color="#d99694">切り替わりを目立たなくする役割</font>も担っています。
※実装
![[yuge.gif]]
## ランキング
このゲームは秘湯により早くたどり着いたほうがスコアが高いので、プレイヤー同士で競い合わせるために、ランキングを追加しました。そこで、<font color="#d99694">スコア(クリアタイム)をJsonで保存</font>するようにました。
- Jsonファイル
　　データをテキスト形式で記述するためのフォーマット。軽量で可読性が高く、多くのプログラム言語で使われる。
Jsonを使用することで<font color="#d99694">手軽に追加・使用ができる</font>ことや、<font color="#d99694">多くのプログラム言語で使われる</font>ので、勉強のため使用しました。

## シーン移行
タイトル→ゲーム内容→インゲーム→リザルト(orゲームオーバー)→ランキングへの移行が行われています。
管理者を一人にして、どこからでも呼べるようにして、シーンを切り替えています。
- シングルトン
　　インスタンスを一つに制限し、管理者を一人にすることで、どこからでもアクセス処理が出来るようになった。
![[Pasted image 20250806180529.png]]
- template
　　ISceneを継承したクラスならばどのクラスでも使えることができる。
- Map配列
　　自分の好きな識別形式を選べることができる。
- addSceneMap関数
　　これは、手軽にScene追加するための関数です。識別子を"T::ID()"で取得できるが、何度も書く必要があるため、同じ処理を書かなくて良いようにしました。
![[Pasted image 20250806181920.png]]

## 壊れる岩
ボスであるクマの攻撃の一つに投石があるのですが、岩を投げてプレイヤーもしくは地面に落ちた際に、プレイヤーがダメージが減って消えるだけでした。
![[nostorn.gif]]
そこで、プレイヤーにあたる・地面に落ちた時に、<font color="#d99694">岩が砕ける演出を追加</font>しました。また、砕けた岩の形が一緒だったので岩に回転を付けて同じ岩と感じさせないようにしたり、飛び散る方向をランダムにする工夫を取り入れました。
※コード
![[Pasted image 20250806184207.png]]
### 画ブレ
壊れる岩が地面もしくはプレイヤーに当たったときに、画面がブレるようにカメラクラスに"PlayShake関数"を追加しました。カメラクラスにある関数なので、コード２のように<font color="#d99694">他クラスでも揺れの強さ・時間・揺れの強さの値を設定</font>できるようにしました。
※コード１(画ブレ関数)
![[Pasted image 20250806184458.png]]
※コード2(画ブレの設定)
![[Pasted image 20250806184516.png]]
※実装(壊れる岩+画ブレ)
![[gabure.gif]]